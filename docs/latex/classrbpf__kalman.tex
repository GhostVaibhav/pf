\hypertarget{classrbpf__kalman}{}\section{rbpf\+\_\+kalman$<$ nparts, dimnss, dimss, dimy, resampT $>$ Class Template Reference}
\label{classrbpf__kalman}\index{rbpf\+\_\+kalman$<$ nparts, dimnss, dimss, dimy, resamp\+T $>$@{rbpf\+\_\+kalman$<$ nparts, dimnss, dimss, dimy, resamp\+T $>$}}


Rao-\/\+Blackwellized/\+Marginal Particle Filter with inner Kalman Filter objectss.  




{\ttfamily \#include $<$rbpf.\+h$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} = Eigen\+::\+Matrix$<$ double, dimss, 1 $>$
\item 
using \hyperlink{classrbpf__kalman_a887899234c374a04beba9669418577a7}{nsssv} = Eigen\+::\+Matrix$<$ double, dimss, 1 $>$
\item 
using \hyperlink{classrbpf__kalman_a4fdeb1b9b626811569b6ac4327c6cbb2}{osv} = Eigen\+::\+Matrix$<$ double, dimy, 1 $>$
\item 
using \hyperlink{classrbpf__kalman_a042212551b46f72a5d3d58f7073d19ee}{Mat} = Eigen\+::\+Matrix$<$ double, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$
\item 
using \hyperlink{classrbpf__kalman_afa2599778bdaa2419739a838565df672}{nsss\+Mat} = Eigen\+::\+Matrix$<$ double, dimnss, dimnss $>$
\item 
using \hyperlink{classrbpf__kalman_aaf46b726f40b4aaa3be3f225790f76f6}{array\+Mod} = std\+::array$<$ \hyperlink{classkalman}{kalman}$<$ dimnss, dimobs $>$, nparts $>$
\item 
using \hyperlink{classrbpf__kalman_a214378a5c76ff8bfc91cf77bfa523d02}{array\+Vec} = std\+::array$<$ \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv}, nparts $>$
\item 
using \hyperlink{classrbpf__kalman_a1911a9cc687ba6fe9890e5f448d1626a}{array\+Double} = std\+::array$<$ double, nparts $>$
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classrbpf__kalman_abb378b7dd21fcf397d0f826ec4310244}{rbpf\+\_\+kalman} (const unsigned int \&resamp\+\_\+sched)
\begin{DoxyCompactList}\small\item\em The constructor. \end{DoxyCompactList}\item 
void \hyperlink{classrbpf__kalman_a66de4ab69c970a44493332f060380e65}{filter} (const \hyperlink{classrbpf__kalman_a4fdeb1b9b626811569b6ac4327c6cbb2}{osv} \&data, const std\+::vector$<$ std\+::function$<$ const \hyperlink{classrbpf__kalman_a042212551b46f72a5d3d58f7073d19ee}{Mat}(const \hyperlink{classrbpf__kalman_a887899234c374a04beba9669418577a7}{nsssv} \&x1t, const \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \&x2t)$>$ $>$ \&fs=std\+::vector$<$ std\+::function$<$ const \hyperlink{classrbpf__kalman_a042212551b46f72a5d3d58f7073d19ee}{Mat}(const \hyperlink{classrbpf__kalman_a887899234c374a04beba9669418577a7}{nsssv} \&x1t, const \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \&x2t)$>$ $>$())
\begin{DoxyCompactList}\small\item\em Filter! \end{DoxyCompactList}\item 
double \hyperlink{classrbpf__kalman_a7000f0729ec1a75084ba4bd9bf06584d}{get\+Log\+Cond\+Like} () const 
\begin{DoxyCompactList}\small\item\em Get the latest log conditional likelihood. \end{DoxyCompactList}\item 
std\+::vector$<$ \hyperlink{classrbpf__kalman_a042212551b46f72a5d3d58f7073d19ee}{Mat} $>$ \hyperlink{classrbpf__kalman_a12e9a481808fff0d74190efcc8714ca0}{get\+Expectations} () const 
\begin{DoxyCompactList}\small\item\em Get the latest filtered expectation E\mbox{[}h(x\+\_\+1t, x\+\_\+2t) $\vert$ y\+\_\+\{1\+:t\}\mbox{]}. \end{DoxyCompactList}\item 
virtual double \hyperlink{classrbpf__kalman_a692103dd55c0c0dab71bfbe347fffaba}{log\+Mu\+Ev} (const \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \&x21)=0
\begin{DoxyCompactList}\small\item\em Evaluates the first time state density. \end{DoxyCompactList}\item 
virtual \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \hyperlink{classrbpf__kalman_a1ac1dd4d74cf42c12236540e2e48b981}{q1\+Samp} (const \hyperlink{classrbpf__kalman_a4fdeb1b9b626811569b6ac4327c6cbb2}{osv} \&y1)=0
\begin{DoxyCompactList}\small\item\em Sample from the first time\textquotesingle{}s proposal distribution. \end{DoxyCompactList}\item 
virtual nssv \hyperlink{classrbpf__kalman_a3f8823c150e555deedd70247d9af761d}{init\+Kalman\+Mean} (const \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \&x21)=0
\begin{DoxyCompactList}\small\item\em Provides the initial mean vector for each Kalman filter object. \end{DoxyCompactList}\item 
virtual \hyperlink{classrbpf__kalman_afa2599778bdaa2419739a838565df672}{nsss\+Mat} \hyperlink{classrbpf__kalman_a867db2c771fb19f78be851f0d6cf8d5c}{init\+Kalman\+Var} (const \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \&x21)=0
\begin{DoxyCompactList}\small\item\em Provides the initial covariance matrix for each Kalman filter object. \end{DoxyCompactList}\item 
virtual \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \hyperlink{classrbpf__kalman_a5381a792b50806ab83ba701f7fb2849a}{q\+Samp} (const \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \&x2tm1, const \hyperlink{classrbpf__kalman_a4fdeb1b9b626811569b6ac4327c6cbb2}{osv} \&yt)=0
\begin{DoxyCompactList}\small\item\em Samples the time t second component. \end{DoxyCompactList}\item 
virtual double \hyperlink{classrbpf__kalman_a857cdb7261de19194ed17dddb3136821}{log\+Q1\+Ev} (const \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \&x21, const \hyperlink{classrbpf__kalman_a4fdeb1b9b626811569b6ac4327c6cbb2}{osv} \&y1)=0
\begin{DoxyCompactList}\small\item\em Evaluates the proposal density of the second state component at time 1. \end{DoxyCompactList}\item 
virtual double \hyperlink{classrbpf__kalman_aecbc33a662f7d543cc5005146aef4971}{log\+F\+Ev} (const \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \&x2t, const \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \&x2tm1)=0
\begin{DoxyCompactList}\small\item\em Evaluates the state transition density for the second state component. \end{DoxyCompactList}\item 
virtual double \hyperlink{classrbpf__kalman_a762c5723967b553b4c2b89326462e72b}{log\+Q\+Ev} (const \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \&x2t, const \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \&x2tm1, const \hyperlink{classrbpf__kalman_a4fdeb1b9b626811569b6ac4327c6cbb2}{osv} \&yt)=0
\begin{DoxyCompactList}\small\item\em Evaluates the proposal density at time t $>$ 1. \end{DoxyCompactList}\item 
virtual void \hyperlink{classrbpf__kalman_a61f63f52c94b8a57f5963981f1ca120b}{update\+Kalman} (\hyperlink{classkalman}{kalman}$<$ dimnss, dimobs $>$ \&k\+Mod, const \hyperlink{classrbpf__kalman_a4fdeb1b9b626811569b6ac4327c6cbb2}{osv} \&yt, const \hyperlink{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{sssv} \&x2t)=0
\begin{DoxyCompactList}\small\item\em How to update your inner Kalman filter object at each time. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
unsigned int \hyperlink{classrbpf__kalman_af17d1220365ce1e7c12e47d8410c7121}{m\+\_\+rs}
\item 
\hyperlink{classrbpf__kalman_aaf46b726f40b4aaa3be3f225790f76f6}{array\+Mod} \hyperlink{classrbpf__kalman_a1aa8b0b72b574a913c6474f4eca6047e}{m\+\_\+p\+\_\+inner\+Mods}
\item 
\hyperlink{classrbpf__kalman_a214378a5c76ff8bfc91cf77bfa523d02}{array\+Vec} \hyperlink{classrbpf__kalman_a0987b2423385e96309914032a976897a}{m\+\_\+p\+\_\+samps}
\item 
\hyperlink{classrbpf__kalman_a1911a9cc687ba6fe9890e5f448d1626a}{array\+Double} \hyperlink{classrbpf__kalman_a69bf4f905a84e8b003e732763a06a264}{m\+\_\+log\+Un\+Norm\+Weights}
\item 
unsigned int \hyperlink{classrbpf__kalman_aa463a5411c640a8cd3b4c48a691bf9c1}{m\+\_\+now}
\item 
double \hyperlink{classrbpf__kalman_a6e0e835d26a8df872090e95f0168caa6}{m\+\_\+last\+Log\+Cond\+Like}
\item 
resampT \hyperlink{classrbpf__kalman_a5fdc4be3bc5018f52708d57c90e4c921}{m\+\_\+resampler}
\item 
std\+::vector$<$ \hyperlink{classrbpf__kalman_a042212551b46f72a5d3d58f7073d19ee}{Mat} $>$ \hyperlink{classrbpf__kalman_a7b7f24deb8e7f1a8a5e714a461d115d3}{m\+\_\+expectations}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT$>$\\*
class rbpf\+\_\+kalman$<$ nparts, dimnss, dimss, dimy, resamp\+T $>$}

Rao-\/\+Blackwellized/\+Marginal Particle Filter with inner Kalman Filter objectss. 

\begin{DoxyAuthor}{Author}
t 
\end{DoxyAuthor}


\subsection{Member Typedef Documentation}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!array\+Double@{array\+Double}}
\index{array\+Double@{array\+Double}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{array\+Double}{arrayDouble}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ using {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::{\bf array\+Double} =  std\+::array$<$double,nparts$>$}\hypertarget{classrbpf__kalman_a1911a9cc687ba6fe9890e5f448d1626a}{}\label{classrbpf__kalman_a1911a9cc687ba6fe9890e5f448d1626a}
array of weights \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!array\+Mod@{array\+Mod}}
\index{array\+Mod@{array\+Mod}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{array\+Mod}{arrayMod}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ using {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::{\bf array\+Mod} =  std\+::array$<${\bf kalman}$<$dimnss,dimobs$>$,nparts$>$}\hypertarget{classrbpf__kalman_aaf46b726f40b4aaa3be3f225790f76f6}{}\label{classrbpf__kalman_aaf46b726f40b4aaa3be3f225790f76f6}
array of model objects \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!array\+Vec@{array\+Vec}}
\index{array\+Vec@{array\+Vec}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{array\+Vec}{arrayVec}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ using {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::{\bf array\+Vec} =  std\+::array$<${\bf sssv},nparts$>$}\hypertarget{classrbpf__kalman_a214378a5c76ff8bfc91cf77bfa523d02}{}\label{classrbpf__kalman_a214378a5c76ff8bfc91cf77bfa523d02}
array of samples \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!Mat@{Mat}}
\index{Mat@{Mat}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{Mat}{Mat}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ using {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::{\bf Mat} =  Eigen\+::\+Matrix$<$double,Eigen\+::\+Dynamic,Eigen\+::\+Dynamic$>$}\hypertarget{classrbpf__kalman_a042212551b46f72a5d3d58f7073d19ee}{}\label{classrbpf__kalman_a042212551b46f72a5d3d58f7073d19ee}
dynamic size matrices \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!nsss\+Mat@{nsss\+Mat}}
\index{nsss\+Mat@{nsss\+Mat}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{nsss\+Mat}{nsssMat}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ using {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::{\bf nsss\+Mat} =  Eigen\+::\+Matrix$<$double,dimnss,dimnss$>$}\hypertarget{classrbpf__kalman_afa2599778bdaa2419739a838565df672}{}\label{classrbpf__kalman_afa2599778bdaa2419739a838565df672}
\char`\"{}not sampled state size matrix\char`\"{} \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!nsssv@{nsssv}}
\index{nsssv@{nsssv}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{nsssv}{nsssv}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ using {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::{\bf nsssv} =  Eigen\+::\+Matrix$<$double,dimss,1$>$}\hypertarget{classrbpf__kalman_a887899234c374a04beba9669418577a7}{}\label{classrbpf__kalman_a887899234c374a04beba9669418577a7}
\char`\"{}not sampled state size vector\char`\"{} \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!osv@{osv}}
\index{osv@{osv}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{osv}{osv}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ using {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::{\bf osv} =  Eigen\+::\+Matrix$<$double,dimy,1$>$}\hypertarget{classrbpf__kalman_a4fdeb1b9b626811569b6ac4327c6cbb2}{}\label{classrbpf__kalman_a4fdeb1b9b626811569b6ac4327c6cbb2}
\char`\"{}observation size vector\char`\"{} \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!sssv@{sssv}}
\index{sssv@{sssv}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{sssv}{sssv}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ using {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::{\bf sssv} =  Eigen\+::\+Matrix$<$double,dimss,1$>$}\hypertarget{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}{}\label{classrbpf__kalman_a17f2cf0b4ee4a1c8f2bfdb5356c53844}
\char`\"{}sampled state size vector\char`\"{} 

\subsection{Constructor \& Destructor Documentation}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{rbpf\+\_\+kalman(const unsigned int \&resamp\+\_\+sched)}{rbpf_kalman(const unsigned int &resamp_sched)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::{\bf rbpf\+\_\+kalman} (
\begin{DoxyParamCaption}
\item[{const unsigned int \&}]{resamp\+\_\+sched}
\end{DoxyParamCaption}
)}\hypertarget{classrbpf__kalman_abb378b7dd21fcf397d0f826ec4310244}{}\label{classrbpf__kalman_abb378b7dd21fcf397d0f826ec4310244}


The constructor. 


\begin{DoxyParams}{Parameters}
{\em resamp\+\_\+sched} & how often you want to resample (e.\+g once every resamp\+\_\+sched time points) \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!filter@{filter}}
\index{filter@{filter}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{filter(const osv \&data, const std\+::vector$<$ std\+::function$<$ const Mat(const nsssv \&x1t, const sssv \&x2t)$>$ $>$ \&fs=std\+::vector$<$ std\+::function$<$ const Mat(const nsssv \&x1t, const sssv \&x2t)$>$ $>$())}{filter(const osv &data, const std::vector< std::function< const Mat(const nsssv &x1t, const sssv &x2t)> > &fs=std::vector< std::function< const Mat(const nsssv &x1t, const sssv &x2t)> >())}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ void {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::filter (
\begin{DoxyParamCaption}
\item[{const {\bf osv} \&}]{data, }
\item[{const std\+::vector$<$ std\+::function$<$ const {\bf Mat}(const {\bf nsssv} \&x1t, const {\bf sssv} \&x2t)$>$ $>$ \&}]{fs = {\ttfamily std\+:\+:vector$<$std\+:\+:function$<$const~{\bf Mat}(const~{\bf nsssv}~\&x1t,~const~{\bf sssv}~\&x2t)$>$~$>$()}}
\end{DoxyParamCaption}
)}\hypertarget{classrbpf__kalman_a66de4ab69c970a44493332f060380e65}{}\label{classrbpf__kalman_a66de4ab69c970a44493332f060380e65}


Filter! 

The workhorse function 
\begin{DoxyParams}{Parameters}
{\em data} & the most recent observable portion of the time series. \\
\hline
{\em fs} & a vector of functions computing E\mbox{[}h(x\+\_\+1t, x\+\_\+2t$^\wedge$i)$\vert$ x\+\_\+2t$^\wedge$i,y\+\_\+1\+:t\mbox{]}. to be averaged to yield E\mbox{[}h(x\+\_\+1t, x\+\_\+2t)$\vert$,y\+\_\+1\+:t\mbox{]} \\
\hline
\end{DoxyParams}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!get\+Expectations@{get\+Expectations}}
\index{get\+Expectations@{get\+Expectations}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{get\+Expectations() const }{getExpectations() const }}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ auto {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::get\+Expectations (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classrbpf__kalman_a12e9a481808fff0d74190efcc8714ca0}{}\label{classrbpf__kalman_a12e9a481808fff0d74190efcc8714ca0}


Get the latest filtered expectation E\mbox{[}h(x\+\_\+1t, x\+\_\+2t) $\vert$ y\+\_\+\{1\+:t\}\mbox{]}. 

Get the expectations you\textquotesingle{}re keeping track of. \begin{DoxyReturn}{Returns}
a vector of Mats 
\end{DoxyReturn}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!get\+Log\+Cond\+Like@{get\+Log\+Cond\+Like}}
\index{get\+Log\+Cond\+Like@{get\+Log\+Cond\+Like}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{get\+Log\+Cond\+Like() const }{getLogCondLike() const }}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ double {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::get\+Log\+Cond\+Like (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classrbpf__kalman_a7000f0729ec1a75084ba4bd9bf06584d}{}\label{classrbpf__kalman_a7000f0729ec1a75084ba4bd9bf06584d}


Get the latest log conditional likelihood. 

\begin{DoxyReturn}{Returns}
the latest log conditional likelihood. 
\end{DoxyReturn}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!init\+Kalman\+Mean@{init\+Kalman\+Mean}}
\index{init\+Kalman\+Mean@{init\+Kalman\+Mean}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{init\+Kalman\+Mean(const sssv \&x21)=0}{initKalmanMean(const sssv &x21)=0}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ virtual nssv {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::init\+Kalman\+Mean (
\begin{DoxyParamCaption}
\item[{const {\bf sssv} \&}]{x21}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classrbpf__kalman_a3f8823c150e555deedd70247d9af761d}{}\label{classrbpf__kalman_a3f8823c150e555deedd70247d9af761d}


Provides the initial mean vector for each Kalman filter object. 

provides the initial mean vector for each Kalman filter object. 
\begin{DoxyParams}{Parameters}
{\em x21} & the second state componenent at time 1. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a nsssv representing the unconditional mean. 
\end{DoxyReturn}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!init\+Kalman\+Var@{init\+Kalman\+Var}}
\index{init\+Kalman\+Var@{init\+Kalman\+Var}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{init\+Kalman\+Var(const sssv \&x21)=0}{initKalmanVar(const sssv &x21)=0}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ virtual {\bf nsss\+Mat} {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::init\+Kalman\+Var (
\begin{DoxyParamCaption}
\item[{const {\bf sssv} \&}]{x21}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classrbpf__kalman_a867db2c771fb19f78be851f0d6cf8d5c}{}\label{classrbpf__kalman_a867db2c771fb19f78be851f0d6cf8d5c}


Provides the initial covariance matrix for each Kalman filter object. 

provides the initial covariance matrix for each Kalman filter object. 
\begin{DoxyParams}{Parameters}
{\em x21} & the second state component at time 1. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a covariance matrix. 
\end{DoxyReturn}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!log\+F\+Ev@{log\+F\+Ev}}
\index{log\+F\+Ev@{log\+F\+Ev}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{log\+F\+Ev(const sssv \&x2t, const sssv \&x2tm1)=0}{logFEv(const sssv &x2t, const sssv &x2tm1)=0}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ virtual double {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::log\+F\+Ev (
\begin{DoxyParamCaption}
\item[{const {\bf sssv} \&}]{x2t, }
\item[{const {\bf sssv} \&}]{x2tm1}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classrbpf__kalman_aecbc33a662f7d543cc5005146aef4971}{}\label{classrbpf__kalman_aecbc33a662f7d543cc5005146aef4971}


Evaluates the state transition density for the second state component. 

Evaluates the state transition density for the second state component. 
\begin{DoxyParams}{Parameters}
{\em x2t} & the current second state component. \\
\hline
{\em x2tm1} & the previous second state component. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a double evaluation. 
\end{DoxyReturn}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!log\+Mu\+Ev@{log\+Mu\+Ev}}
\index{log\+Mu\+Ev@{log\+Mu\+Ev}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{log\+Mu\+Ev(const sssv \&x21)=0}{logMuEv(const sssv &x21)=0}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ virtual double {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::log\+Mu\+Ev (
\begin{DoxyParamCaption}
\item[{const {\bf sssv} \&}]{x21}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classrbpf__kalman_a692103dd55c0c0dab71bfbe347fffaba}{}\label{classrbpf__kalman_a692103dd55c0c0dab71bfbe347fffaba}


Evaluates the first time state density. 

evaluates log mu(x21). 
\begin{DoxyParams}{Parameters}
{\em x21} & component two at time 1 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a double evaluation 
\end{DoxyReturn}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!log\+Q1\+Ev@{log\+Q1\+Ev}}
\index{log\+Q1\+Ev@{log\+Q1\+Ev}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{log\+Q1\+Ev(const sssv \&x21, const osv \&y1)=0}{logQ1Ev(const sssv &x21, const osv &y1)=0}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ virtual double {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::log\+Q1\+Ev (
\begin{DoxyParamCaption}
\item[{const {\bf sssv} \&}]{x21, }
\item[{const {\bf osv} \&}]{y1}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classrbpf__kalman_a857cdb7261de19194ed17dddb3136821}{}\label{classrbpf__kalman_a857cdb7261de19194ed17dddb3136821}


Evaluates the proposal density of the second state component at time 1. 

Evaluates the proposal density of the second state component at time 1. 
\begin{DoxyParams}{Parameters}
{\em x21} & the second state component at time 1 you sampled. \\
\hline
{\em y1} & time 1 observation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a double evaluation of the density. 
\end{DoxyReturn}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!log\+Q\+Ev@{log\+Q\+Ev}}
\index{log\+Q\+Ev@{log\+Q\+Ev}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{log\+Q\+Ev(const sssv \&x2t, const sssv \&x2tm1, const osv \&yt)=0}{logQEv(const sssv &x2t, const sssv &x2tm1, const osv &yt)=0}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ virtual double {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::log\+Q\+Ev (
\begin{DoxyParamCaption}
\item[{const {\bf sssv} \&}]{x2t, }
\item[{const {\bf sssv} \&}]{x2tm1, }
\item[{const {\bf osv} \&}]{yt}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classrbpf__kalman_a762c5723967b553b4c2b89326462e72b}{}\label{classrbpf__kalman_a762c5723967b553b4c2b89326462e72b}


Evaluates the proposal density at time t $>$ 1. 

Evaluates the proposal density at time t $>$ 1. 
\begin{DoxyParams}{Parameters}
{\em x2t} & the current second state component. \\
\hline
{\em x2tm1} & the previous second state component. \\
\hline
{\em yt} & the current time series observation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a double evaluation. 
\end{DoxyReturn}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!q1\+Samp@{q1\+Samp}}
\index{q1\+Samp@{q1\+Samp}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{q1\+Samp(const osv \&y1)=0}{q1Samp(const osv &y1)=0}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ virtual {\bf sssv} {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::q1\+Samp (
\begin{DoxyParamCaption}
\item[{const {\bf osv} \&}]{y1}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classrbpf__kalman_a1ac1dd4d74cf42c12236540e2e48b981}{}\label{classrbpf__kalman_a1ac1dd4d74cf42c12236540e2e48b981}


Sample from the first time\textquotesingle{}s proposal distribution. 

samples the second component of the state at time 1. 
\begin{DoxyParams}{Parameters}
{\em y1} & most recent datum. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a Vec sample for x21. 
\end{DoxyReturn}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!q\+Samp@{q\+Samp}}
\index{q\+Samp@{q\+Samp}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{q\+Samp(const sssv \&x2tm1, const osv \&yt)=0}{qSamp(const sssv &x2tm1, const osv &yt)=0}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ virtual {\bf sssv} {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::q\+Samp (
\begin{DoxyParamCaption}
\item[{const {\bf sssv} \&}]{x2tm1, }
\item[{const {\bf osv} \&}]{yt}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classrbpf__kalman_a5381a792b50806ab83ba701f7fb2849a}{}\label{classrbpf__kalman_a5381a792b50806ab83ba701f7fb2849a}


Samples the time t second component. 

Samples the time t second component. 
\begin{DoxyParams}{Parameters}
{\em x2tm1} & the previous time\textquotesingle{}s second state component. \\
\hline
{\em yt} & the current observation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a sssv sample of the second state component at the current time. 
\end{DoxyReturn}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!update\+Kalman@{update\+Kalman}}
\index{update\+Kalman@{update\+Kalman}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{update\+Kalman(kalman$<$ dimnss, dimobs $>$ \&k\+Mod, const osv \&yt, const sssv \&x2t)=0}{updateKalman(kalman< dimnss, dimobs > &kMod, const osv &yt, const sssv &x2t)=0}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ virtual void {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::update\+Kalman (
\begin{DoxyParamCaption}
\item[{{\bf kalman}$<$ dimnss, dimobs $>$ \&}]{k\+Mod, }
\item[{const {\bf osv} \&}]{yt, }
\item[{const {\bf sssv} \&}]{x2t}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classrbpf__kalman_a61f63f52c94b8a57f5963981f1ca120b}{}\label{classrbpf__kalman_a61f63f52c94b8a57f5963981f1ca120b}


How to update your inner Kalman filter object at each time. 

How to update your inner Kalman filter object at each time. 
\begin{DoxyParams}{Parameters}
{\em k\+Mod} & a Kalman filter object describing the conditional closed-\/form model. \\
\hline
{\em yt} & the current time series observation. \\
\hline
{\em x2t} & the current second state component. \\
\hline
\end{DoxyParams}


\subsection{Member Data Documentation}
\index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!m\+\_\+expectations@{m\+\_\+expectations}}
\index{m\+\_\+expectations@{m\+\_\+expectations}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{m\+\_\+expectations}{m_expectations}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ std\+::vector$<${\bf Mat}$>$ {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::m\+\_\+expectations\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classrbpf__kalman_a7b7f24deb8e7f1a8a5e714a461d115d3}{}\label{classrbpf__kalman_a7b7f24deb8e7f1a8a5e714a461d115d3}
expectations \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!m\+\_\+last\+Log\+Cond\+Like@{m\+\_\+last\+Log\+Cond\+Like}}
\index{m\+\_\+last\+Log\+Cond\+Like@{m\+\_\+last\+Log\+Cond\+Like}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Log\+Cond\+Like}{m_lastLogCondLike}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ double {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::m\+\_\+last\+Log\+Cond\+Like\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classrbpf__kalman_a6e0e835d26a8df872090e95f0168caa6}{}\label{classrbpf__kalman_a6e0e835d26a8df872090e95f0168caa6}
log p(y\+\_\+t$\vert$y\+\_\+\{1\+:t-\/1\}) or log p(y1) \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!m\+\_\+log\+Un\+Norm\+Weights@{m\+\_\+log\+Un\+Norm\+Weights}}
\index{m\+\_\+log\+Un\+Norm\+Weights@{m\+\_\+log\+Un\+Norm\+Weights}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{m\+\_\+log\+Un\+Norm\+Weights}{m_logUnNormWeights}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ {\bf array\+Double} {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::m\+\_\+log\+Un\+Norm\+Weights\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classrbpf__kalman_a69bf4f905a84e8b003e732763a06a264}{}\label{classrbpf__kalman_a69bf4f905a84e8b003e732763a06a264}
the array of the (log of) unnormalized weights \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!m\+\_\+now@{m\+\_\+now}}
\index{m\+\_\+now@{m\+\_\+now}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{m\+\_\+now}{m_now}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ unsigned int {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::m\+\_\+now\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classrbpf__kalman_aa463a5411c640a8cd3b4c48a691bf9c1}{}\label{classrbpf__kalman_aa463a5411c640a8cd3b4c48a691bf9c1}
the current time period \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!m\+\_\+p\+\_\+inner\+Mods@{m\+\_\+p\+\_\+inner\+Mods}}
\index{m\+\_\+p\+\_\+inner\+Mods@{m\+\_\+p\+\_\+inner\+Mods}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{m\+\_\+p\+\_\+inner\+Mods}{m_p_innerMods}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ {\bf array\+Mod} {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::m\+\_\+p\+\_\+inner\+Mods\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classrbpf__kalman_a1aa8b0b72b574a913c6474f4eca6047e}{}\label{classrbpf__kalman_a1aa8b0b72b574a913c6474f4eca6047e}
the array of inner Kalman filter objects \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!m\+\_\+p\+\_\+samps@{m\+\_\+p\+\_\+samps}}
\index{m\+\_\+p\+\_\+samps@{m\+\_\+p\+\_\+samps}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{m\+\_\+p\+\_\+samps}{m_p_samps}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ {\bf array\+Vec} {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::m\+\_\+p\+\_\+samps\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classrbpf__kalman_a0987b2423385e96309914032a976897a}{}\label{classrbpf__kalman_a0987b2423385e96309914032a976897a}
the array of particle samples \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!m\+\_\+resampler@{m\+\_\+resampler}}
\index{m\+\_\+resampler@{m\+\_\+resampler}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{m\+\_\+resampler}{m_resampler}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ resampT {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::m\+\_\+resampler\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classrbpf__kalman_a5fdc4be3bc5018f52708d57c90e4c921}{}\label{classrbpf__kalman_a5fdc4be3bc5018f52708d57c90e4c921}
resampler object \index{rbpf\+\_\+kalman@{rbpf\+\_\+kalman}!m\+\_\+rs@{m\+\_\+rs}}
\index{m\+\_\+rs@{m\+\_\+rs}!rbpf\+\_\+kalman@{rbpf\+\_\+kalman}}
\subsubsection[{\texorpdfstring{m\+\_\+rs}{m_rs}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$size\+\_\+t nparts, size\+\_\+t dimnss, size\+\_\+t dimss, size\+\_\+t dimy, typename resampT $>$ unsigned int {\bf rbpf\+\_\+kalman}$<$ nparts, dimnss, dimss, dimy, resampT $>$\+::m\+\_\+rs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classrbpf__kalman_af17d1220365ce1e7c12e47d8410c7121}{}\label{classrbpf__kalman_af17d1220365ce1e7c12e47d8410c7121}
the resamplign schedule 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/\hyperlink{rbpf_8h}{rbpf.\+h}\end{DoxyCompactItemize}
